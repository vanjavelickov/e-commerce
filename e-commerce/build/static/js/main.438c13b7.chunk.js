(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{16:function(t,e,c){},18:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c.n(n),i=c(10),s=c.n(i),d=(c(16),function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),n(t),r(t),i(t),s(t)}))}),a=c(11),j=c(5),o=c(4),l=c(8),u=c(2),b=c(1);function h(t){var e=t.product,c=t.onAdd;return Object(b.jsxs)("div",{className:"productItem",children:[Object(b.jsx)("h3",{children:e.id}),Object(b.jsx)("div",{children:e.name}),Object(b.jsxs)("div",{children:["$",e.rating]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){c(e)},children:"Add to Cart"})})]})}function O(t){var e=t.products,c=t.onAdd;return Object(b.jsxs)("main",{children:[Object(b.jsx)("p",{className:"subtitle",children:"Products"}),Object(b.jsx)("div",{className:"product",children:e.map((function(t){return Object(b.jsx)(h,{product:t,onAdd:c},t.id)}))})]})}var x=function(t){var e=t.products,c=t.onAdd;return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(O,{onAdd:c,products:e})})})};function m(t){var e=t.cartItems,c=t.onAdd,n=t.onRemove,r=t.clearAll;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"textCenter",children:"Cart Items"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"row",children:0===e.length&&Object(b.jsx)("div",{children:" Cart is Empty "})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{children:e.map((function(t){return Object(b.jsxs)("div",{className:"rowUpgrade",children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return c(t)},className:"buttonAdd",children:"+"}),Object(b.jsx)("button",{onClick:function(){return n(t)},className:"buttonRemove",children:"-"})]}),Object(b.jsxs)("div",{className:"textRight",children:[t.quantity," x"]})]},t.id)}))})}),Object(b.jsx)("div",{className:"row",children:0!==e.length&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){return r()},children:"Clear all"})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("button",{onClick:function(){return alert("Checkout")},children:"Checkout"})})]})})]})}function f(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),c=e[0],r=e[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),d=s[0],h=s[1];Object(n.useEffect)((function(){fetch("https://retoolapi.dev/3scGq6/products").then((function(t){t.ok?t.json().then((function(t){r(t)})):console.log("no result")})).catch((function(t){console.log("Error:",t)}));var t=JSON.parse(localStorage.getItem("cartItems"));t&&h(t)}),[]),Object(n.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(d))}),[d]);var O=function(t){var e=d.find((function(e){return e.id===t.id}));h(e?d.map((function(c){return c.id===t.id?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1}):c})):[].concat(Object(a.a)(d),[Object(j.a)(Object(j.a)({},t),{},{quantity:1})]))};return Object(b.jsx)(l.a,{children:Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("div",{children:Object(b.jsx)(l.b,{className:"title",to:"/",children:"Shopping Cart"})}),Object(b.jsx)("div",{children:Object(b.jsxs)(l.b,{to:"/cart",children:["Cart"," ",d.length?Object(b.jsx)("button",{className:"buttonBadge",children:d.length}):""]})})]}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",element:Object(b.jsx)(x,{products:c,onAdd:O})}),Object(b.jsx)(u.a,{path:"/cart",element:Object(b.jsx)(m,{onAdd:O,onRemove:function(t){var e=d.find((function(e){return e.id===t.id}));1===e.quantity?h(d.filter((function(e){return e.id!==t.id}))):h(d.map((function(c){return c.id===t.id?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity-1}):c})))},cartItems:d,clearAll:function(){h([])}})})]})]})})}s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),d()}},[[18,1,2]]]);
//# sourceMappingURL=main.438c13b7.chunk.js.map