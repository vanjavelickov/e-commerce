(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(10),r=c.n(i),d=(c(16),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),i(e),r(e)}))}),a=c(11),l=c(5),j=c(4),o=c(8),b=c(2),h=c(0);function u(e){var t=e.product,c=e.onAdd;return Object(h.jsxs)("div",{className:"productItem",children:[Object(h.jsx)("h3",{children:t.id}),Object(h.jsx)("div",{children:t.name}),Object(h.jsxs)("div",{children:["$",t.rating]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){c(t)},children:"Add to Cart"})})]})}function O(e){var t=e.products,c=e.onAdd;return Object(h.jsxs)("main",{className:"block col-2",children:[Object(h.jsx)("p",{className:"subtitle",children:"Products"}),Object(h.jsx)("div",{className:"product",children:t.map((function(e){return Object(h.jsx)(u,{product:e,onAdd:c},e.id)}))})]})}var x=function(e){var t=e.products,c=e.onAdd;return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(O,{onAdd:c,products:t})})})};function m(e){var t=e.cartItems,c=e.onAdd,n=e.onRemove,s=e.clearAll,i=t.reduce((function(e,t){return e+t.rating*t.qty}),0),r=.14*i,d=i>2e3?0:50,a=i+r+d;return Object(h.jsxs)("aside",{className:"block col-1",children:[Object(h.jsx)("h2",{children:"Cart Items"}),Object(h.jsx)("div",{children:0===t.length&&Object(h.jsx)("div",{children:" Cart is Empty "})}),t.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2",children:e.name}),Object(h.jsxs)("div",{className:"col-2",children:[Object(h.jsx)("button",{onClick:function(){return c(e)},className:"add",children:"+"}),Object(h.jsx)("button",{onClick:function(){return n(e)},className:"add",children:"-"})]}),Object(h.jsxs)("div",{className:"col-2 text-right",children:[e.qty," x"]})]},e.id)})),0!==t.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2",children:"Items Price"}),Object(h.jsxs)("div",{className:"col-1 text-right",children:["$",i.toFixed(2)]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2",children:"Tax Price"}),Object(h.jsxs)("div",{className:"col-1 text-right",children:["$",r.toFixed(2)]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2",children:"Shipping Price"}),Object(h.jsxs)("div",{className:"col-1 text-right",children:["$",d.toFixed(2)]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2",children:Object(h.jsx)("strong",{children:"Total Price"})}),Object(h.jsxs)("div",{className:"col-1 text-right",children:["$",a.toFixed(2)]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return s()},children:"Clear all"})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("button",{onClick:function(){return alert("Checkout")},children:"Checkout"})})]})]})}function v(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)([]),r=Object(j.a)(i,2),d=r[0],u=r[1];Object(n.useEffect)((function(){fetch("https://retoolapi.dev/3scGq6/products").then((function(e){200===e.status?e.json().then((function(e){s(e)})):console.log("no result")})).catch((function(e){console.log("Error:",e)}));var e=JSON.parse(localStorage.getItem("cartItems"));e&&u(e)}),[]),Object(n.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(d))}),[d]);var O=function(e){var t=d.find((function(t){return t.id===e.id}));u(t?d.map((function(c){return c.id===e.id?Object(l.a)(Object(l.a)({},t),{},{qty:t.qty+1}):c})):[].concat(Object(a.a)(d),[Object(l.a)(Object(l.a)({},e),{},{qty:1})]))};return Object(h.jsx)(o.a,{children:Object(h.jsxs)("header",{className:"block col-2",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("div",{children:Object(h.jsx)(o.b,{className:"title",to:"/",children:"Shopping Cart"})}),Object(h.jsx)("div",{children:Object(h.jsxs)(o.b,{to:"/cart",children:["Cart"," ",d.length?Object(h.jsx)("button",{className:"badge",children:d.length}):""]})})]}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.a,{exact:!0,path:"/",element:Object(h.jsx)(x,{products:c,onAdd:O})}),Object(h.jsx)(b.a,{path:"/cart",element:Object(h.jsx)(m,{onAdd:O,onRemove:function(e){var t=d.find((function(t){return t.id===e.id}));1===t.qty?u(d.filter((function(t){return t.id!==e.id}))):u(d.map((function(c){return c.id===e.id?Object(l.a)(Object(l.a)({},t),{},{qty:t.qty-1}):c})))},cartItems:d,clearAll:function(){u([])}})})]})]})})}r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),d()}},[[18,1,2]]]);
//# sourceMappingURL=main.48ab6a99.chunk.js.map